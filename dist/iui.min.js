(function(c,b,a,e){b.IUI_UTILS={animateEnd:"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",transitionEnd:"webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd",toggleClass:function(h,i){var g=i instanceof c?i:c(i);var f=g.hasClass(h)?"removeClass":"addClass";g[f](h)},isPlaceholder:function(){var f=a.createElement("input");return"placeholder" in f},throttle:function(g,i,m){var f,k,n;var l=null;var j=0;if(!m){m={}}var h=function(){j=m.leading===false?0:new Date().getTime();l=null;n=g.apply(f,k);if(!l){f=k=null}};return function(){var o=new Date().getTime();if(!j&&m.leading===false){j=o}var p=i-(o-j);f=this;k=arguments;if(p<=0||p>i){clearTimeout(l);l=null;j=o;n=g.apply(f,k);if(!l){f=k=null}}else{if(!l&&m.trailing!==false){l=setTimeout(h,p)}}return n}},debounce:function(h,j,g){var m,l,f,k,n;var i=function(){var o=new Date().getTime()-k;if(o<j&&o>0){m=setTimeout(i,j-o)}else{m=null;if(!g){n=h.apply(f,l);if(!m){f=l=null}}}};return function(){f=this;l=arguments;k=new Date().getTime();var o=g&&!m;if(!m){m=setTimeout(i,j)}if(o){n=h.apply(f,l);f=l=null}return n}}};b.IUI={};c.fn.IUI=function(){var f=arguments;var h=arguments[0];if(IUI[h]){h=IUI[h];f=Array.prototype.slice.call(f,1);return h.apply(this,f)}else{if(typeof(h)=="object"||!h){for(var g in h){IUI=c.extend(IUI,h);h=IUI[g];break}}else{c.error("Method "+h+" does not exist on jQuery.IUI Plugin");return this}}};var d=c({});c.extend({sub:function(){d.on.apply(d,arguments)},unsub:function(){d.off.apply(d,arguments)},pub:function(){d.trigger.apply(d,arguments)}});c.extend({alert:function(o){var i=c("body");var l=a.all&&!b.atob?0:200;var h={title:"",content:"",confirmText:"确定",cancelText:"取消",closeBtn:false,shadow:true,type:"confirm",status:"default",keyboard:true,before:function(){},confirm:function(){},cancel:function(){}};var g=c.extend({},h,o);var f=j();var n={showAlert:function(){m(f)},hideAlert:function(){k(f)},target:f};if(!c.alertBackdrop){c.alertBackdrop=c('<div class="IUI-alert-backdrop" style="display:none"></div>');i.append(c.alertBackdrop)}if(g.shadow){i.on("touchstart.iui-alert click.iui-alert",".IUI-alert-container",function(p){p.preventDefault();k(f)})}i.on("touchstart.iui-alert click.iui-alert",".IUI-alert-main",function(p){p.stopPropagation()});f.on("touchstart.iui-alert click.iui-alert",".IUI-alert-confirm",function(p){if(g.type==="alert"){if(g.cancel.call(this,n)===false){return false}k(f);return false}if(g.confirm.call(this,n)===false){return false}});f.on("touchstart.iui-alert click.iui-alert",".IUI-alert-cancel,.IUI-alert-close",function(p){if(g.cancel.call(this,n)===false){return false}k(f)});if(g.keyboard){if(g.keyboard){c(b).on("keyup.iui-alert",function(p){if(p.keyCode===27){f.find(".IUI-alert-cancel,.IUI-alert-close").trigger("click.iui-alert")}if(p.keyCode===13){f.find(".IUI-alert-confirm").trigger("click.iui-alert")}})}}function m(p){p.removeClass("hide");p.find(".IUI-alert-main").addClass("alert-opening");c.alertBackdrop.fadeIn(l,function(){p.find(".IUI-alert-main").removeClass("alert-opening")})}function k(p){c([i,p]).off("touchstart.iui-alert click.iui-alert");p.addClass("alert-closing");c.alertBackdrop.fadeOut(l,function(){c(this).addClass("hide");p.remove()})}function j(){var s=g.type==="confirm";var v='<span class="IUI-alert-close"></span>';var r='<a href="javascript:;" class="IUI-alert-confirm">'+g.confirmText+"</a>";var u='<a href="javascript:;" class="IUI-alert-cancel">'+g.cancelText+"</a>";var x='<div class="IUI-alert-header">'+(g.title||"")+(g.closeBtn?v:"")+"</div>";var t='<div class="IUI-alert-content">'+(g.content||"")+"</div>";var q='<div class="IUI-alert-footer">'+r+(s?u:"")+"</div>";var p=x+t+q;var w=c('<div class="IUI-alert-container hide"><div class="IUI-alert-main '+g.status+'">'+p+"</div></div>");i[0].appendChild(w[0]);return w}if(g.before.call(this,n)===false){return false}m(f)}});
/*!
     * jQuery Cookie Plugin v1.4.1
     * https://github.com/carhartl/jquery-cookie
     *
     * Copyright 2006, 2014 Klaus Hartl
     * Released under the MIT license
     *
     * @example : $.cookie('name', 'value', { expires: 7, path: '' });
     */
c.extend({cookie:function(i,j,g){if(arguments.length>1&&String(j)!=="[object Object]"){g=jQuery.extend({},g);if(j===null||j===e){g.expires=-1}if(typeof g.expires==="number"){var l=g.expires,h=g.expires=new Date();h.setDate(h.getDate()+l)}j=String(j);return(a.cookie=[encodeURIComponent(i),"=",g.raw?j:encodeURIComponent(j),g.expires?"; expires="+g.expires.toUTCString():"",g.path?"; path="+g.path:"",g.domain?"; domain="+g.domain:"",g.secure?"; secure":""].join(""))}g=j||{};var f,k=g.raw?function(m){return m}:decodeURIComponent;return(f=new RegExp("(?:^|; )"+encodeURIComponent(i)+"=([^;]*)").exec(a.cookie))?k(f[1]):null}});c.extend({loading:function(i,h,j){var f=arguments;var k=f.length>1;var m=f[0];var g=j||c("body");var l='<div class="IUI-loading">'+(k?'<div class="loader-inner ball-clip-rotate"><div></div></div>':'<img src="http://img.yi114.com/201571121314_382.gif" width="32" height="32">')+"</div>";if(m){g.append('<div class="IUI-loading-backdrop"></div>'+l)}else{g.find(".IUI-loading-backdrop,.IUI-loading").remove()}}});c.extend({tip:function(q){var g=c.extend({obj:"#message",text:"",timeout:3000,status:true,position:false,offset:[0,5],callback:null},q);var i=g.obj instanceof c?g.obj:c(g.obj);var h=g.status?"success":"error";var j=i.data("count")||1;var f=new Date().getTime();var n=i.outerWidth();var p=i.outerHeight();var m=i.offset().left;var l=i.offset().top;var o;clearTimeout(i.data("count"));if(g.position){if(typeof i.attr("data-tip")==="undefined"){c('<div class="tips" id="tip_'+f+'" style="left:'+(m+g.offset[0])+"px;top:"+(l+p+g.offset[1])+'px"></div>').appendTo("body");i.attr("data-tip",f)}o=c("#tip_"+i.attr("data-tip"))}var k=g.position==="custom"?o:i;k.html('<span class="'+h+'">'+g.text+"</span>").removeClass("hide");i.data("count",setTimeout(function(){k.addClass("hide");if(g.callback){g.callback()}},g.timeout))}});(function(j,h){var f=j('<div class="layer-backdrop" style="display:none"></div>');var l=a.documentElement.clientHeight;var i=j("body");var g=a.all&&!h.atob?0:200;function k(n,m){var o={container:"body",vertical:true,cache:false,shadow:true,confirmHandle:".btn-confirm",closeHandle:".btn-cancel,.btn-close",offsetWidth:"auto",offsetHeight:"auto",url:j(this).attr("data-url")||false,dataType:j(this).attr("data-dataType")||"html",content:"",successCall:function(){},errorCall:function(){},confirmCall:function(){},cancelCall:function(){}};this.$selector=m;this.config=j.extend(o,n);this.$backdrop=f;this.init();this.event()}k.prototype.init=function(){var u=this;var p=u.config;var r='<div class="layer-box hide" id="{layerName}"><div class="layer-content">'+p.content+"</div></div>";var s=this.$selector=u.$selector.length?u.$selector:j(r.replace("{layerName}",u.$selector.selector.replace("#",""))).appendTo(p.container);var t=p.container==="body"?i:j(p.container);var o=p.closeHandle;var m=this.$content=s.find(".layer-content");var n=Number(s.attr("data-width"))||p.offsetWidth;var q=Number(s.attr("data-height"))||p.offsetHeight;m.css({width:n,height:q})};k.prototype.ajaxLoad=function(){var n=this;var o=n.config;var q=n.$selector;var p=o.url||"?";var r=q.attr("data-method")||"GET";var m=o.dataType;if(o.cache&&q.data("success")){n.showLayer();return false}j.loading(true,true);q.data("success",1);j.ajax({url:p,type:r,dataType:m,data:o.data}).then(function(s){j.loading(false);o.successCall.apply(q,[s,this,n]);n.showLayer()},function(s){j.loading(false);n.hideLayer();o.errorCall.apply(q,[s,this,n])});return n};k.prototype.event=function(){var m=this;var n=m.config;var o=m.$selector;o.on("click.iui-layer",n.confirmHandle,function(p){p.preventDefault();n.confirmCall.apply(o,[p,this]);return false});o.on("click.iui-layer",function(p){if(!n.shadow){return false}if(i.find(".layer-loading").length){return false}m.hideLayer();n.cancelCall.apply(o,[p,this]);return false});o.on("click.iui-layer",".layer-content",function(p){p.stopPropagation()});o.on("click.iui-layer",n.closeHandle,function(p){m.hideLayer();n.cancelCall.apply(o,[p,this]);return false})};k.prototype.showLayer=function(){var m=this;var n=m.config;m.$selector.removeClass("hide");m.$selector.after(f);m.resize();m.$content.addClass("layer-opening");f.fadeIn(g,function(){m.$content.removeClass("layer-opening")});m.$selector.trigger("layer.show",[m]);return m};k.prototype.hideLayer=function(){var m=this;var n=m.config;m.$content.addClass("layer-closing");m.$backdrop.fadeOut(g,function(){m.$selector.addClass("hide");m.$content.removeClass("layer-closing");j(this).remove()});m.$selector.trigger("layer.hide",[this]);return m};k.prototype.resize=function(){var m=this;var o=m.config;var n=m.$content;var q=parseInt(n.css("margin-bottom"))*2;var p=n.outerHeight()+q;i.addClass("layer-open")};j.fn.IUI({layer:function(m){return new k(m,this)}})}(jQuery,b));c.fn.IUI({returnTop:function(i){var j={target:".returnTop-btn",showTop:100,bottom:50,delay:300};var l=c(this);var k=c(b);var h=c.extend({},j,i);var f=l.find(h.target);var g=function(n,m){if(m>h.showTop&&n.hasClass("hide")){n.removeClass("hide")}if(m<h.showTop&&!n.hasClass("hide")){n.addClass("hide")}return false};g(f,k.scrollTop());l.css({bottom:h.bottom});k.on("scroll",function(m){g(f,c(b).scrollTop())});l.on("click",h.target,function(m){c("body,html").stop().animate({scrollTop:0},h.delay);return false})}});c.fn.IUI({tab:function(f){return this.each(function(){var k={item:".tab-item",content:".tab-content",current:"active",handle:"click",afterShow:function(){},beforeShow:function(){}};var m=c(this);var h=c.extend({},k,f);var n=m.find(h.item);var i=m.find(h.content);var j=null;var g=0;if(!n.length){return}l(n.eq(0));m.on(h.handle,h.item,function(o){o.preventDefault();var p=c(this);h.beforeShow.apply(p,[o,h]);l(p);h.afterShow.apply(p,[o,h])});function l(q,o){var p=m.find(h.item);_contents=m.find(h.content);g=p.index(q);p.removeClass(h.current);_contents.removeClass(h.current);p.eq(g).addClass(h.current);_contents.eq(g).addClass(h.current)}})}});c.fn.IUI({ajaxForm:function(f){return this.each(function(){var j=c(this);var i={url:j.attr("action"),method:j.attr("method")||"POST",type:j.attr("data-type")||"json",data:j.attr("data-ajaxType")||"ajax",before:function(){},success:function(){},error:function(){},pending:function(){},always:function(){}};var h=j.find("input");var g=c.extend({},i,f);j.data("deferred",g);j.on("submit",function(l){l.preventDefault();if(j.hasClass("disabled")){g.pending.call(j,g);return false}var m=g.before.call(j,l,g);var k={url:g.url,type:g.method,data:j.serialize()};if(g.data!=="ajax"){k.data=new FormData(j[0]);k.cache=false;k.contentType=false;k.processData=false}if(m===false){return false}j.addClass("disabled").prop("disabled",true);c.ajax(k).then(function(n){j.removeClass("disabled").prop("disabled",false);g.success.call(j,n,g)},function(n){j.removeClass("disabled").prop("disabled",false);g.error.call(j,n,g)}).always(function(n){g.always.call(j,n,g)})})})}});c.fn.IUI({validate:function(h){var g={isNonEmpty:function(n){var l=this.self;var m=l[0].value;if(c.trim(m).length===0){return false}},minLength:function(l){if(this.self[0].value.length<l.minLength){return false}},maxLength:function(l){if(this.self[0].value.length<l.maxLength){return false}},isMobile:function(l){if(!/(^1[3|5|8][0-9]{9}$)/.test(this.self[0].value)){return false}},isEmail:function(l){if(!/(^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$)/.test(this.self[0].value)){return false}},between:function(p){var m=this.self;var o=this.self[0].value.length;var n=p.range[0];var l=p.range[1];if(o<n||o>l){return false}},onlyEn:function(l){if(!/^[A-Za-z]+$/.test(this.self[0].value)){return false}},onlyZh:function(l){if(!/^[\u4e00-\u9fa5]+$/.test(this.self[0].value)){return false}},notInt:function(l){if(/^[0-9]*$/.test(this.self[0].value)){return false}},onlyNum:function(l){if(!/^[0-9]+([.][0-9]+){0,1}$/.test(value)){return false}},onlyInt:function(l){if(!/^[0-9]*$/.test(value)){return false}},isChecked:function(m){var l=void (0);this.self.each(function(n,o){l=o.checked;return l?false:true});return l?void (0):false},isNickname:function(l){if(!/^[A-Za-z0-9_\-\u4e00-\u9fa5]{2,20}$/i.test(this.self[0].value)){return false}}};var j={ajaxValidate:false,globalMessage:false,errorClass:".validate-error",infoClass:".validate-info",successClass:".validate-success",collections:null,strategy:g};var f=this;function k(l){this.container="body";this.options=c.extend(true,{},j,l);this.$selector=f;this.cache={};this.init()}k.prototype.init=function(){var l=this;var n=l.options.collections;var o=["info","success","error"];for(var m=0;m<n.length;m++){l.add(n[m])}l.behavior();c.each(l.cache,function(r,p){if(p.context.length===0){return}var s=/validate-context-(info|success|error)/.exec(p.context[0].className);var q;if(s){q=s[1];p.self.data("validateStatus",c.inArray(q,o))}})};k.prototype.add=function(n){var l=this.$selector.find("[data-required="+n.required+"]");var m=l.parents(n.context);c.extend(true,this.cache,(function(){var o={};var p=o[n.required]={};p.matches={};p.self=l;p.context=m;p.infoMsg=n.infoMsg||"";c.extend(true,p.matches,n.matches);return o}()))};k.prototype.behavior=function(){var l=this;var m=i.call(this);this.$selector.on("focus",m,function(p){var q=c(this);var n=q.data("required");var o=l.cache[n];if(l.options.infoClass){l.message(0,o)}q.trigger("validate.focus",o)});this.$selector.on("blur",m,function(n){l.verify.call(this,l,"blur")});this.$selector.on("change",'input[type=radio][data-required],input[type=checkbox][data-required],input[type="file"][data-required]',function(n){l.verify.call(this,l,"change")})};k.prototype.verify=function(q,m){var p=c(this);var n=q.cache[p.data("required")];var o=n.matches;var l=false;c.each(o,function(s,t){var r=q.options.strategy[s].call(n,t);l=r===void (0)?1:2;p.data("validateStatus",r);q.message(l,n,s);return l===2?false:true});p.trigger("validate."+m,n);return l};k.prototype.message=function(o,p,n){var q,s,r,m,l;s=["info","success","error"];l=this.options.globalMessage?c(this.options.globalMessage):p.context;if(o===0){q=this.options.infoClass;r=p.infoMsg}else{if(o===1){q=this.options.successClass;r=""}else{if(o===2){q=this.options.errorClass;r=p.matches[n].errMsg}else{}}}q=q.replace(/\./g," ").slice(1);l.removeClass("validate-context-info validate-context-success validate-context-error").addClass("validate-context-"+s[o]).find(".validate-message").remove();m=c('<div class="validate-message '+q+'" >'+r+"</div>");l.append(m)};k.prototype.batch=function(n){var m=this;var l=[];c.each(this.cache,function(q,r){var p=r.self.data("validateStatus");var o=!p?m.verify.call(r.self,m,"batch"):p;if(n&&o===2){l.push(o);return false}l.push(o)});return c.inArray(2,l)===-1?true:false};function i(){var o="";var n=this.options.collections;for(var m=0;m<n.length;m++){var l=n[m].required;if(/checkbox|radio|file/.test(this.cache[l].self[0].type)){continue}o+="[data-required="+n[m].required+"],"}return o.slice(0,o.length-1)}return new k(h)}});(function(h){var g={readOnly:false,contain:".tokenize",remove:"",maxLength:20,overLimitCount:function(){},existToken:function(){},searchCallback:function(){}};var f={top:38,right:39,bottom:40,left:37,enter:13,back:9};var j={spanTemplate:['<span class="token-item">','<span>{text}</span><span data-value="{value}" class="token-close">x</span>',"</span>"].join(""),optionTemplate:'<option selected="selected" value="{value}">{value}</option>',liTemplate:'<li class="hidden" data-value="{value}">{value}</li>',inputTemplate:'<div class="token"> <span> <input type="text" maxlength="{{maxlength}}" style="width: {{width}}px"> </span> </div>'};var i=h.fn.tokenize=function(k){var l=h.extend({},g,k);j.inputTemplate=j.inputTemplate.replace("{{maxlength}}",l.maxLength).replace("{{width}}",l.maxLength*12);this.each(function(m,n){var p=h(this);var o=p.attr("data-limitCount")*1;if(typeof o!=="number"||isNaN(o)){o=Infinity}p.data({showAll:p.attr("data-showAll")==="false"?false:true,create:p.attr("data-create")==="false"?false:true,limitCount:o});p.append(j.inputTemplate);i.renderSelect(p);i.setEvent(p,l);p.find("li[uled]").each(function(q,r){h(r).addClass("current "+l.remove).trigger("click")});p.find(".tokenize-level").removeClass("hide")})};i.renderSelect=function(k){var l=k.find("select").prop("outerHTML");l=(l+"").replace(/<optgroup\s+label="(.*)".*>/g,'<li class="tokenize-level">$1<ul class="tokenize-menu">');l=l.replace(/<\/optgroup>/g,"</ul></li>");l=l.replace(/select/g,"ul").replace(/option/g,"li").replace(/value/g,"data-value");k.append(l)};i.createToken=function(p,l,n){var m=h(this).parents(n.contain).find("input").val("");var k=m.parent();var o=j.spanTemplate.replace("{text}",p).replace("{value}",l);h(o).insertBefore(k)};i.setEvent=function(k,l){if(l.readOnly===false){k.on("click",".token-close",function(n){n.stopPropagation();var p=h(this);var m=p.parents(l.contain);var o=p.attr("data-value");var q=m.find('li[data-value="'+o+'"]');if(q.hasClass("no-remove")){return}m.find('option[value="'+o+'"]').removeAttr("selected");q.removeClass("hidden");q.parents("li").eq(0).removeClass("hide");p.parent(".token-item").remove();i.hideToken(m)});k.on("click",".token",function(m){m.stopPropagation();var n=h(this);n.find("input").focus();i.searchToken.call(n.find("input")[0],l)});k.on("keyup","input",function(o){var m=o.keyCode;var n=f;if(m!==n.enter&&m!==n.back&&m!==n.bottom&&m!==n.top){i.searchToken.call(this,l)}});k.on("keyup",">ul,input",function(o){var m=o.keyCode;var n=f;if(m===n.enter||m===n.back){i.setToken.call(this,l)}});k.on("keyup",function(o){var m=o.keyCode;var n=f;if(m===n.bottom||m===n.top){i.turnToken.call(this,m)}});k.on("mouseenter","li",function(m){if(!h(this).hasClass("tokenize-level")){var n=h(this);n.parents(l.contain).find("li").removeClass("current");n.addClass("current")}})}else{k.find("input").attr("readonly","readonly")}k.on("click","li",function(m){if(!h(this).hasClass("tokenize-level")){i.setToken.call(this,l)}else{m.stopPropagation()}})};i.searchToken=function(p){var m=h(this).parents(p.contain);var n=m.find(">ul").removeClass("hide").find("li").not(".tokenize-level").removeClass("current").not(".hidden");var l=m.data("showAll");var k=h.trim(this.value);var o=0;n.each(function(r,t){var s=h(t);var q=s.text();var u=o!==0?"":"current";if((l||k!=="")&&q.indexOf(k)>-1){++o;s.removeClass("hide").addClass(u)}else{s.addClass("hide")}});p.searchCallback.call(m);i.hideTitle.call(m)};i.setToken=function(n){var k=h(this).parents(n.contain);var l=k.find("li").not(".tokenize-level");var q=l.filter(".current");var r;var p;var m=k.find(".token input");var s=h.trim(m.val());if(!i.testCount.call(this,n)){n.overLimitCount(k);return}if(!i.testExist.call(this,n)){n.existToken(k);return}if(q.length){q.removeClass("current").addClass("hidden");i.createToken.call(this,q.text(),q.attr("data-value"),n);p=l.index(q);k.find("option").eq(p).attr("selected","selected");i.hideTitle.call(k)}else{var o=k.find("ul");if(k.data("create")&&o.length===1&&s){k.find("ul").append(j.liTemplate.replace(/\{value\}/g,s));i.createToken.call(this,s,s,n);k.find("select").append(j.optionTemplate.replace(/\{value\}/g,s))}}i.hideToken(k)};i.turnToken=function(l){var k=h(this).find("li").not(".tokenize-level");var n=k.filter(":visible");var m=n.filter(".current");var o=n.index(m);var p=n.length;if(p){o=l===40?(o+1)%p:(o!==-1?o-1:o)%p;m.removeClass("current");n.eq(o).addClass("current")}};i.hideToken=function(k){h(a).click(function(l){i.hideToken(h(".tokenize"))});return function(l){l.find(">ul").addClass("hide");l.find("li").not(".tokenize-level").addClass("hide")}}();i.hideTitle=function(){var k=this.find(".tokenize-level");k.each(function(l,n){var m=h(n);if(m.find("li:not(.hidden):not(.hide)").length>0){m.removeClass("hide")}else{m.addClass("hide")}})};i.testCount=function(n){var k=h(this).parents(n.contain);var m=k.data("limitCount");var l=k.find(".token-item").length;if(m!==Infinity){if(l>=m){return false}}return true};i.testExist=function(n){var m=h(this).parents(n.contain);var o=h.trim(m.find(".token input").val());var l=m.find(".token-item");var k=true;l.each(function(q,r){var p=h(r).find("span").eq(0);if(p.text()===o){k=false;return}});return k};h.fn.IUI({tokenize:i})})(jQuery);c.fn.IUI({tooltip:function(h){var j={target:"[data-tooltip]",animateClass:"fadeIn",event:"hover",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-body"></div></div>'};var g=c.extend(j,h);var i=g.event==="hover"?"mouseenter":"click";var f=g.event==="hover"?"mouseleave":"click";return this.each(function(l,m){var n=g.target;var k=g.animateClass;c(m).on(i,n,function(){c(".tooltip").remove();var x=c(this);var q=this;var C=q.getBoundingClientRect();var z=C.left;var u=C.top;var v=q.offsetWidth;var p=q.offsetHeight;var A=x.attr("data-direction")||"top",o=x.attr("data-distance")*1||5,B=x.attr("data-title");var t=x.after(c(g.template)).next(".tooltip").addClass(A+" "+k);t.find(".tooltip-body").text(B);var w=t[0].offsetWidth;var s=t[0].offsetHeight;var r,y;if(A=="top"){r=z+(v-w)/2;y=u-s-o}else{if(A=="right"){r=z+v+o;y=u+(p-s)/2}else{if(A=="bottom"){r=z+(v-w)/2;y=u+p+o}else{if(A=="left"){r=z-w-o;y=u+(p-s)/2}}}}t.css({top:y,left:r});return false});if(g.event==="hover"){c(m).on(f,n,function(){c(this).next(".tooltip").remove()})}else{c(a).on(f,function(o){c(".tooltip").remove()})}})}});c.fn.IUI({emailSuffix:function(f){return this.each(function(){var j={container:"body",style:"global",item:"email-item",current:"checked",emails:["163.com","126.com","qq.com","gmail.com","sina.com","139.com","189.com","sohu.com"],delay:300,offsetLeft:c(this).offset().left,offsetTop:c(this).offset().top,offsetWidth:c(this).outerWidth(),offsetHeight:c(this).outerHeight(),checkedCall:function(){}};var o=c(this);var h=c.extend({},j,f);var l=c('<ul class="email-list hide"></ul>');var k=c(h.container);var i=null;var m=function(p,q){var w="";var v=q.value||null;var t=v?v.split("@")[0]:false;var u=v?v.split("@")[1]:false;for(var s=0,r;r<p.length;s++){if((t&&!u)||u&&r.indexOf(u)!==-1){w+='<li class="'+h.item+'" data-value="'+t+"@"+r+'">'+t+"@"+r+"</li>"}}return w};var n=function(w,v,u){var s=[38,40];if(c.inArray(w,s)===-1||v.hasClass("hide")){return false}var t=c.inArray(w,s)>=1?true:false;var q=v;var p=q.find("li").length;var r=q.find("li.checked");q.find("li").removeClass("checked");if(t){if(r.length&&r.index()!==p-1){r.next().addClass("checked")}else{q.find("li").eq(0).addClass("checked")}}else{if(r.index()>0){r.prev().addClass("checked")}else{q.find("li").eq(p-1).addClass("checked")}}u.val(c.trim(q.find("li.checked").text()));h.checkedCall.apply(o,[event,h])};var g=function(){var r=h.offsetLeft;var q=h.offsetTop;var p=h.offsetWidth;l.css({left:r,top:q+h.offsetHeight,width:p})};g();if(h.style==="global"){k.append(l);c(b).on("resize.emailSuffix",g)}else{o.parent().append(l)}o.on("keyup.emailSuffix",function(p){var r=this.value;if(r.charAt(0)!=="@"&&r.split("@").length===2&&c.inArray(p.keyCode,[40,38,13])===-1){var q=m(h.emails,this);l.html(q).removeClass("hide").find("li").eq(0).addClass("checked")}else{if(c.inArray(p.keyCode,[40,38,13])===-1){l.html("").addClass("hide")}}});o.on("keydown.emailSuffix",function(q){var p=l.find("li.checked");n(q.keyCode,l,o);if(q.keyCode===13){q.preventDefault();if(p.length){o.val(c.trim(p.text()))}l.addClass("hide")}});o.on("blur.emailSuffix",function(p){i=setTimeout(function(){l.addClass("hide")},h.delay)});l.on("click",h.item,function(p){p.preventDefault();clearTimeout(i);o.val(c(this).attr("data-value")).focus();l.addClass("hide");h.checkedCall.apply(o,[p,h]);return false})})}});c.fn.IUI({placeholder:function(f){return this.each(function(){var h=utils.isPlaceholder();if(h){return false}var i={target:".form-control",cloneClass:"clone-password"};var k=c(this);var j=c(b);var g=c.extend({},i,f);k.find(g.target).each(function(l,n){var p=c(n).attr("placeholder");var m=c(n);if(n.type==="password"){var o=c('<input class="'+g.target.slice(1)+'" type="text">');m.css({display:"none"});o.addClass(g.cloneClass).val(p);m.parent().append(o)}else{n.value=p}});k.find(g.target).on({focus:function(l){if(c(this).hasClass("clone-password")){c(this).css({display:"none"});c(this).parent().find("input[type=password]").css({display:"block"}).focus();return false}if(this.value===c(this).attr("placeholder")){this.value=""}},blur:function(l){if(c(this).attr("type")==="password"&&!this.value){c(this).css({display:"none"});c(this).parent().find(".clone-password").css({display:"block"});return false}if(!this.value){this.value=c(this).attr("placeholder")}}})})}});c.fn.IUI({fadeSlide:function(f){return this.each(function(){var m=c(this),j=c.extend({interval:5000},f),l=null,k=0,g=m.find("ul");if(g.find("li").length<=1){return false}m.append(i(g.find("li").length,"●"));g.find("li").eq(0).addClass("current");m.on({mouseenter:function(n){m.find(".ficon").removeClass("none")},mouseleave:function(n){m.find(".ficon").addClass("none")}});m.find(".next").on("click",function(o){o.preventDefault();var n=m.find("ol li");if(!m.data("animate")){m.data("animate",1);if(k<n.length-1){k++}else{k=0}n.removeClass("current");n.eq(k).addClass("current");g.find("li").fadeOut(500).eq(k).fadeIn(500,function(){m.data("animate",0)});g.find("li").eq(k).addClass("current").siblings(".current").removeClass("current")}});m.find(".prev").on("click",function(o){o.preventDefault();var n=m.find("ol li");if(!m.data("animate")){m.data("animate",1);if(k>0){k--}else{k=n.length-1}n.removeClass("current");n.eq(k).addClass("current");g.find("li").fadeOut(500).eq(k).fadeIn(500,function(){m.data("animate",0)});g.find("li").eq(k).addClass("current").siblings(".current").removeClass("current")}});m.on({mouseenter:function(n){clearTimeout(l)},mouseleave:function(n){l=setTimeout(h,j.interval)}},".prev,.next");m.find("ol").on({mouseenter:function(n){clearTimeout(l);k=c(this).index();if(c(this).hasClass("current")){return false}c(this).addClass("current").siblings(".current").removeClass("current");g.find("li").fadeOut(500).eq(k).fadeIn(500);g.find("li").eq(k).addClass("current").siblings(".current").removeClass("current")},mouseleave:function(n){l=setTimeout(h,j.interval)}},"li");l=setTimeout(h,j.interval);function h(){clearTimeout(l);var n=m.find("ol li");if(k<n.length-1){k++}else{k=0}n.removeClass("current");n.eq(k).addClass("current");g.find("li").fadeOut(500).eq(k).fadeIn(500);g.find("li").eq(k).addClass("current").siblings(".current").removeClass("current");l=setTimeout(h,j.interval)}function i(n,s){var p,o=n,r="",q=s||"&nbsp;";r+="<ol>";for(p=0;p<o;p++){if(p===0){r+='<li class="current">'+q+"</li>"}else{r+="<li>"+q+"</li>"}}r+="</ol>";return r}})}});c.fn.IUI({typeCount:function(f){return this.each(function(){c(this).on("keyup","input[type=text],textarea",function(j){j.preventDefault();var k=c(this);var g=k.parent().find("span.count");var h=parseInt(g.text().split("/")[1]);var i=this.value.length;if(i>h){g.addClass("error")}else{g.removeClass("error")}g.html(i+"/"+h)});c(this).find("input,textarea").trigger("keyup")})}});c.fn.IUI({lrselect:function(r){var j={level:1,dataJson:"",afterMoveLeft:function(){},afterMoveRight:function(){}};var p=this;var o;var l={self:{ele:".lrselect",contraryEle:".lrselect-to"},to:{ele:".lrselect-to",contraryEle:".lrselect"}};var i={self:{ele:".lrselect .level-2",contraryEle:".lrselect-to .level-2"},to:{ele:".lrselect-to .level-2",contraryEle:".lrselect .level-2"}};p.$container=c(this);p.$multi=p.$container.find(".lrselect");p.$multiTo=p.$container.find(".lrselect-to");p.config=c.extend({},j,r);c(b).on("keydown.win",function(s){s.preventDefault();switch(s.which){case 17:case 91:p.$container.data("type","mul");break;case 16:p.$container.data("type","continu");break}});c(b).on("keyup.win",function(s){s.preventDefault();p.$container.data("type","")});var f=function(u,t,s){this.execute=u;this.value=t;this.dire=s};var m=function(){var s=[];var t=[];return{execute:function(u){u.execute();s.push(u);o.setValue(u.dire)},undo:function(){if(!s[0]){return false}var u=s.pop();t.push(u);o.undo(u.value,u.dire);o.setValue(u.dire)},redo:function(){if(!t[0]){return false}var u=t.pop();s.push(u);o.redo(u.value,u.dire);o.setValue(u.dire)}}};function h(){this.calculator=new m();this.init()}h.prototype={init:function(){p.mulData=p.config.level>=2?i:l;this.render(p.config.dataJson);this.setCommandFn();this.events();this.operateEvent()},render:function(t){var s=g(t);p.$multi.append(s.item);p.$container.find("select").css("display","none").append(s.option);if(p.config.level>=2){p.mulData=i;p.$multiTo.append(p.$multi.children().clone());p.$multiTo.find(".level-2 li").remove();p.$container.on("click",".mul-title",function(){c(this).toggleClass("active").parent("li").find(".level-2").toggleClass("hide")})}},setCommandFn:function(){var s=this;p.setCommand=function(u,t){var v=s.getId(u);s.calculator.execute(t(v))};p.moveTo=function(){n("to")};p.move=function(){n("self")};p.moveToAll=function(){n("to","all")};p.moveAll=function(){n("self","all")};p.moveToTitle=function(){n("to","title")};p.moveTitle=function(){n("self","title")};p.toCommand=function(t){return new f(p.moveTo,t,"to")};p.selfCommand=function(t){return new f(p.move,t,"self")};p.allToCommand=function(t){return new f(p.moveToAll,t,"to")};p.allSelfCommand=function(t){return new f(p.moveAll,t,"self")};p.titleToCommand=function(t){return new f(p.moveToTitle,t,"to")};p.titleSelfCommand=function(t){return new f(p.moveTitle,t,"self")}},events:function(){var u=this;var t=p.mulData.self.ele+" li";var s=p.mulData.to.ele+" li";p.$container.on("click",t,function(v){u.itemClick(c(this),"self")});p.$container.on("click",s,function(v){u.itemClick(c(this),"to")});p.$container.on("dblclick",t,function(v){var w=c(this);p.setCommand(w,p.selfCommand)});p.$container.on("dblclick",s,function(v){var w=c(this);p.setCommand(w,p.toCommand)});if(p.config.level>=2){p.$multi.on("dblclick",".mul-title",function(v){u.moveTitle(c(this))});p.$multiTo.on("dblclick",".mul-title",function(v){u.moveToTitle(c(this))})}},operateEvent:function(){var s=this;if(!p.$container.find(".lrselect-right").length){return}p.$container.on("click",".lrselect-right",function(){s.move()});p.$container.on("click",".lrselect-left",function(){s.moveTo()});p.$container.on("click",".lrselect-rightAll",function(){s.moveAll()});p.$container.on("click",".lrselect-leftAll",function(){s.moveToAll()});p.$container.on("click",".lrselect-undo",function(){s.calculator.undo()});p.$container.on("click",".lrselect-redo",function(){s.calculator.redo()})},itemClick:function(D,B){var z=p.$container.data("type");var x=D.parent("ul");var C=x.find("li");var A=p.mulData[B].ele+" li";if(z=="mul"){D.toggleClass("current");return}if(z=="continu"){var w=x.find("li.current").eq(0);var s=C.index(w);var y=C.index(D);var t=y>s?s:y;var u=y<s?s:y;if(s<0){D.addClass("current");return}C.removeClass("current");for(var v=t;v<=u;v++){C.eq(v).addClass("current")}return}p.$container.find(A).removeClass("current");D.addClass("current")},getId:function(s){var u=[];var t=s;c.each(t,function(v,w){u.push(c(w).data("id"))});u=u.join(",");return u},moveTo:function(){var s=p.$multiTo.find("li.current");p.setCommand(s,p.toCommand)},move:function(){var s=p.$multi.find("li.current");p.setCommand(s,p.selfCommand)},moveToAll:function(){var s=p.$multiTo.find("li");p.setCommand(s,p.allToCommand)},moveAll:function(){var s=p.$multi.find("li");p.setCommand(s,p.allSelfCommand)},moveToTitle:function(s){var t=s.parent("li").find(".level-2 li");s.addClass("current");p.setCommand(t,p.titleToCommand)},moveTitle:function(s){var t=s.parent("li").find(".level-2 li");s.addClass("current");p.setCommand(t,p.titleSelfCommand)},undo:function(v,s){var w=p.$container.find(p.mulData[s].contraryEle);var x=p.$container.find(p.mulData[s].ele);var z=v.split(",");var u=[];for(var t=0;t<z.length;t++){var y=w.find('li[data-id="'+z[t]+'"]');u.push(y)}if(p.config.level>=2){k(u,x);return}x.append(u);q(x)},redo:function(v,s){var w=p.$container.find(p.mulData[s].ele);var x=p.$container.find(p.mulData[s].contraryEle);var z=v.split(",");var u=[];for(var t=0;t<z.length;t++){var y=w.find('li[data-id="'+z[t]+'"]');u.push(y)}if(p.config.level>=2){k(u,x);return}x.append(u);q(x)},setValue:function(s){var u=p.$container.find(p.mulData.to.ele+" li");var t=[];p.$container.find("select option").prop("selected",false);c.each(u,function(v,w){p.$container.find('select option[value="'+c(w).data("value")+'"]').prop("selected",true)});switch(s){case"to":p.config.afterMoveLeft();break;case"self":p.config.afterMoveRight();break}}};o=new h();function g(v){var x="";var w="";var y="";if(p.config.level===1){for(var u=0;u<v.length;u++){x+='<li data-id="'+(u+1)+'" data-value="'+v[u].value+'">'+v[u].name+"</li>";y+='<option data-id="'+(u+1)+'" value="'+v[u].value+'">'+v[u].name+"</option>"}}if(p.config.level===2){for(var s=0;s<v.length;s++){w="";for(var t=0;t<v[s].child.length;t++){w+='<li data-id="'+((s+1)*10+(t+1))+'" data-value="'+v[s].child[t].value+'">'+v[s].child[t].name+"</li>";y+='<option data-id="'+((s+1)*10+(t+1))+'" value="'+v[s].child[t].value+'">'+v[s].child[t].name+"</option>"}x+='<li data-id="'+(s+1)+'"><div class="mul-title">'+v[s].name+'</div><ul class="level-2">'+w+"</ul></li>"}}return{option:y,item:x}}function q(x){var s=x.find("li");var w=[];var v=[];var z;for(var u=0;u<s.length;u++){var y=s.eq(u).data("id");w.push(y)}Array.prototype.sort.call(w,function(A,B){return A-B});for(var t=0;t<w.length;t++){z=x.find('li[data-id="'+w[t]+'"]');v.push(z)}x.html("").append(v)}function k(s,t){c.each(s,function(u,v){v=v instanceof c?v:c(v);var x=v.data("id");var w=Math.floor(x/10)-1;t.eq(w).append(v)});c.each(t,function(u,v){q(c(v))})}function n(s,t){var w=p.$container.find(p.mulData[s].ele+" li.current");var v=p.$container.find(p.mulData[s].ele+" li");var u=p.$container.find(p.mulData[s].contraryEle);if(t==="all"){w=v}if(t==="title"){w=c(".mul-title.current").parent("li").find(".level-2 li");c(".mul-title").removeClass("current")}if(p.config.level>=2){k(w,u);return}u.append(w);q(u)}return{moveRight:function(s){s.addClass("current");p.setCommand(s,p.selfCommand)},moveLeft:function(s){s.addClass("current");p.setCommand(s,p.toCommand)},moveRightAll:function(){var s=p.$multi.find("li");p.setCommand(s,p.allSelfCommand)},moveLeftAll:function(){var s=p.$multiTo.find("li");p.setCommand(s,p.allToCommand)},updateJson:function(s,t){p.$multi.html("");p.$multiTo.html("");p.$container.find("select").html("");o.calculator=new m();if(t&&t!=p.config.level){p.config.level=Math.min(2,t);p.mulData=p.config.level>=2?i:l}o.render(s);o.events()}}}});(function(i,g,f,j){function h(k,l){this.options=i.extend({},h.defaults,l);this.$container=i(this.options.container);this.$selector=i(k);this.init();this.event()}h.defaults={dataJson:null,container:"body",template:'<div class="selector-level selector-level-{{level}}"><a href="javascript:;" role="name" class="selector-name selector-name-dcolor" data-caller="{{caller}}">{{name}}</a><input type="hidden" name="{{field}}" role="input" value=""><ul role="content" class="selector-list hide">{{content}}</ul></div>',placeholder:["请选择省份","请选择市","请选择区"],field:["userProvinceId","userCityId","userAreaId"],iselect:false,isvalue:true,shorthand:false,values:[],level:1,joinHtml:function(p,q,k,u){var l=p;var s=l.length;var r=q||"100000";var m=this.options.iselect?"<option>"+u+"</option>":"";if(k<0){return m}for(var o=0;o<s;o++){var t=this.options.shorthand?l[o].shortName:l[o].name;var n=this.options.isvalue?l[o].id:l[o].name;if(l[o].parentId===r){if(this.options.iselect){m+='<option data-item="'+k+'" value="'+n+'">'+t+"</option>"}else{m+='<li data-item="'+k+'" data-id="'+l[o].id+'" data-value="'+n+'">'+t+"</li>"}}}return m},startClick:null};h.prototype.init=function(){var k=this;var l=k.options;var n,p,o;for(var m=0;m<l.level;m++){p=l.placeholder[m]||"";n=l.template.replace("{{level}}",m+1).replace("{{caller}}",m+1);if(!m){n=n.replace("{{content}}",l.joinHtml.call(this,l.dataJson,null,m+1,p))}else{n=n.replace("{{content}}",l.joinHtml.call(this,l.dataJson,null,-1,p))}if(n.indexOf("{{name}}")!==-1){n=n.replace("{{name}}",p)}if(n.indexOf("{{field}}")!==-1){o=l.field[m]||"";n=n.replace("{{field}}",o)}k.$selector.append(n)}};h.prototype.event=function(){var k=this;var l=k.options;var o=k.$selector;for(var m=0;m<l.level;m++){(n)(m)}if(!l.iselect){i(f).on("click.iselector",function(q){var r=q||g.event;var p=r.target||r.srcElement;while(p){if(p.className&&p.className.indexOf(k)>-1){return}p=p.parentNode}k.$selector.find('[role="content"]').addClass("hide")})}function n(q){var p=m+1;if(l.iselect){o.on("change.iselector",'[data-caller="'+p+'"]',function(r){var s=i(this);k.hideSelector(s,q,true)})}else{o.on("click.iselector",'[data-caller="'+p+'"]',function(s){var t=i(this);var r=o.find('[role="content"]');r.addClass("hide").eq(q).removeClass("hide");if(typeof l.startClick==="function"){l.startClick.apply(this,[k,t,l])}return false});o.on("click.iselector",'[data-item="'+p+'"]',function(r){var s=i(this);l.values=[];k.hideSelector(s,q,false)})}}};h.prototype.hideSelector=function(q,r,s){var y=this;var m=y.options;var x=y.$selector;var w=x.find('[role="name"]');var u=x.find("[data-caller]");var t=x.find('[role="input"]');var k=x.find('[role="content"]');var p=s?q.val():q.attr("data-id");var n=q.text();var l=r+1;var o=r+2;var v=m.placeholder[l]||"";if(s){v=m.placeholder[l]||"";k.eq(l).html(m.joinHtml.call(y,m.dataJson,p,o,v));k.eq(l).find("[data-item]").eq(0).prop("selected",true).trigger("change")}else{q.addClass("checked").siblings(".checked").removeClass("checked");w.eq(r).text(n).removeClass("selector-name-dcolor");t.eq(r).val(p);k.eq(l).html(m.joinHtml.call(y,m.dataJson,p,o,v));k.eq(l).find("[data-item]").eq(0).trigger("click");k.eq(r).addClass("hide")}m.values.unshift(p);x.trigger("choose-"+l,[y,q,l,m.values])};i.fn.IUI({iselector:function(k){return this.each(function(){if(!i(this).data("iselector")){i(this).data("iselector",new h(this,k))}})}})})(jQuery,b,a)}(jQuery,window,document,undefined));