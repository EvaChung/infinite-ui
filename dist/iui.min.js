(function(f,h,j,d){var e=0;var g="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";var b="webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd";var k={toggleClass:function(n,o){var m=o instanceof f?o:f(o);var l=m.hasClass(n)?"removeClass":"addClass";m[l](n)},isPlaceholder:function(){var l=j.createElement("input");return"placeholder" in l},throttle:function(m,o,s){var l,q,t;var r=null;var p=0;if(!s){s={}}var n=function(){p=s.leading===false?0:new Date().getTime();r=null;t=m.apply(l,q);if(!r){l=q=null}};return function(){var u=new Date().getTime();if(!p&&s.leading===false){p=u}var v=o-(u-p);l=this;q=arguments;if(v<=0||v>o){clearTimeout(r);r=null;p=u;t=m.apply(l,q);if(!r){l=q=null}}else{if(!r&&s.trailing!==false){r=setTimeout(n,v)}}return t}},debounce:function(n,p,m){var s,r,l,q,t;var o=function(){var u=new Date().getTime()-q;if(u<p&&u>0){s=setTimeout(o,p-u)}else{s=null;if(!m){t=n.apply(l,r);if(!s){l=r=null}}}};return function(){l=this;r=arguments;q=new Date().getTime();var u=m&&!s;if(!s){s=setTimeout(o,p)}if(u){t=n.apply(l,r);l=r=null}return t}}};var a={};f.fn.IUI=function(){var l=arguments;var n=arguments[0];if(a[n]){n=a[n];l=Array.prototype.slice.call(l,1);return n.apply(this,l)}else{if(typeof(n)=="object"||!n){for(var m in n){a=f.extend(a,n);n=a[m];break}}else{f.error("Method "+n+" does not exist on jQuery.IUI Plugin");return this}}};var c=f({});f.extend({sub:function(){c.on.apply(c,arguments)},unsub:function(){c.off.apply(c,arguments)},pub:function(){c.trigger.apply(c,arguments)}});f.extend({alert:function(t){var o=f("body");var n={title:"",content:"",confirmText:"确定",cancelText:"取消",closeBtn:false,shadow:true,animateClass:"fadeInDown",type:"confirm",status:"default",before:function(){},confirm:function(){},cancel:function(){}};var m=f.extend({},n,t);var l=p();var s={showAlert:function(){r(l)},hideAlert:function(){q(l)},target:l};if(!f.alertBackdrop){f.alertBackdrop=f('<div class="IUI-alert-backdrop hide"></div>');o.append(f.alertBackdrop)}if(m.shadow){o.on("touchstart.iui-alert click.iui-alert",".IUI-alert-container",function(u){u.preventDefault();q(l)})}o.on("touchstart.iui-alert click.iui-alert",".IUI-alert-main",function(u){u.stopPropagation()});l.on("touchstart.iui-alert click.iui-alert",".IUI-alert-confirm",function(u){if(m.type==="alert"){if(m.cancel.call(this,s)===false){return false}q(l);return false}if(m.confirm.call(this,s)===false){return false}});l.on("touchstart.iui-alert click.iui-alert",".IUI-alert-cancel,.IUI-alert-close",function(u){if(m.cancel.call(this,s)===false){return false}q(l)});function r(u){f.alertBackdrop.removeClass("hide");u.removeClass("hide");u.find(".IUI-alert-main").addClass(m.animateClass)}function q(u){o.off("touchstart.iui-alert click.iui-alert");u.off("touchstart.iui-alert click.iui-alert").remove();f.alertBackdrop.addClass("hide")}function p(){var x=m.type==="confirm";var A='<span class="IUI-alert-close"></span>';var w='<a href="javascript:;" class="IUI-alert-confirm">'+m.confirmText+"</a>";var z='<a href="javascript:;" class="IUI-alert-cancel">'+m.cancelText+"</a>";var C='<div class="IUI-alert-header">'+(m.title||"")+(m.closeBtn?A:"")+"</div>";var y='<div class="IUI-alert-content">'+(m.content||"")+"</div>";var v='<div class="IUI-alert-footer">'+w+(x?z:"")+"</div>";var u=C+y+v;var B=f('<div class="IUI-alert-container hide"><div class="IUI-alert-main '+m.status+'">'+u+"</div></div>");o[0].appendChild(B[0]);return B}if(m.before.call(this,s)===false){return false}r(l)}});
/*!
     * jQuery Cookie Plugin v1.4.1
     * https://github.com/carhartl/jquery-cookie
     *
     * Copyright 2006, 2014 Klaus Hartl
     * Released under the MIT license
     *
     * @example : $.cookie('name', 'value', { expires: 7, path: '' });
     */
f.extend({cookie:function(o,p,m){if(arguments.length>1&&String(p)!=="[object Object]"){m=jQuery.extend({},m);if(p===null||p===d){m.expires=-1}if(typeof m.expires==="number"){var r=m.expires,n=m.expires=new Date();n.setDate(n.getDate()+r)}p=String(p);return(j.cookie=[encodeURIComponent(o),"=",m.raw?p:encodeURIComponent(p),m.expires?"; expires="+m.expires.toUTCString():"",m.path?"; path="+m.path:"",m.domain?"; domain="+m.domain:"",m.secure?"; secure":""].join(""))}m=p||{};var l,q=m.raw?function(t){return t}:decodeURIComponent;return(l=new RegExp("(?:^|; )"+encodeURIComponent(o)+"=([^;]*)").exec(j.cookie))?q(l[1]):null}});f.extend({loading:function(o,n,p){var l=arguments;var q=l.length>1;var s=l[0];var m=p||f("body");var r='<div class="IUI-loading">'+(q?'<div class="loader-inner ball-clip-rotate"><div></div></div>':'<img src="http://img.yi114.com/201571121314_382.gif" width="32" height="32">')+"</div>";if(s){m.append('<div class="IUI-loading-backdrop"></div>'+r)}else{m.find(".IUI-loading-backdrop,.IUI-loading").remove()}}});f.extend({tip:function(w){var m=f.extend({obj:"#message",text:"",timeout:3000,status:true,position:false,offset:[0,5],callback:null},w);var o=m.obj instanceof f?m.obj:f(m.obj);var n=m.status?"success":"error";var p=o.data("count")||1;var l=new Date().getTime();var t=o.outerWidth();var v=o.outerHeight();var s=o.offset().left;var r=o.offset().top;var u;clearTimeout(o.data("count"));if(m.position){if(typeof o.attr("data-tip")==="undefined"){f('<div class="tips" id="tip_'+l+'" style="left:'+(s+m.offset[0])+"px;top:"+(r+v+m.offset[1])+'px"></div>').appendTo("body");o.attr("data-tip",l)}u=f("#tip_"+o.attr("data-tip"))}var q=m.position==="custom"?u:o;q.html('<span class="'+n+'">'+m.text+"</span>").removeClass("hide");o.data("count",setTimeout(function(){q.addClass("hide");if(m.callback){m.callback()}},m.timeout))}});f.fn.IUI({layer:function(y){var p={container:"body",vertical:true,cache:false,shadow:true,confirmHandle:".btn-confirm",closeHandle:".btn-cancel,.btn-close",offsetWidth:"auto",offsetHeight:"auto",animateClass:"fadeInDown",url:f(this).attr("data-url")||false,dataType:f(this).attr("data-dataType")||"html",content:"",successCall:function(){},errorCall:function(){},confirmCall:function(){},cancelCall:function(){}};var n=f.extend({},p,y);var u='<div class="layer-box hide" id="{layerName}"><div class="layer-content">'+n.content+"</div></div>";var s=this.length?this:f(u.replace("{layerName}",this.selector.replace("#",""))).appendTo(n.container);var r=f("body");var x=n.container==="body"?r:f(n.container);var l=s.find(".layer-content");var t=f('<div class="layer-backdrop"></div>');var m=n.closeHandle;var w=j.documentElement.clientHeight;var o=Number(s.attr("data-width"))||n.offsetWidth;var q=Number(s.attr("data-height"))||n.offsetHeight;var v={target:s,content:l,setting:n,id:e++,showLayer:function(){s.removeClass("hide");s.after(t);this.resize();l.addClass(n.animateClass);s.trigger("layer.show",[this])},hideLayer:function(){s.addClass("hide");l.removeClass(n.animateClass);r.removeClass("layer-open").find(".layer-backdrop").remove();s.trigger("layer.hide",[this])},resize:function(){var z=s.find(".layer-content");var B=parseInt(z.css("margin-bottom"))*2;var A=z.outerHeight()+B;if(n.vertical&&A<w){r.removeClass("layer-open");z.css({top:"50%","margin-top":-(A/2)});return false}r.addClass("layer-open");z.removeAttr("style").css({width:o,height:q})},ajaxLoad:function(){var B=n.url||"?";var A=s.attr("data-method")||"GET";var z=n.dataType;var C=this;if(n.cache&&s.data("success")){C.showLayer();return false}f.loading(true,true);s.data("success",1);f.ajax({url:B,type:A,dataType:n.dataType,data:n.data}).then(function(D){f.loading(false);n.successCall.apply(s,[D,this,v]);C.showLayer()},function(D){f.loading(false);C.hideLayer();n.errorCall.apply(s,[D,this,v])})}};l.css({width:o,height:q});s.on("click.iui-layer",n.confirmHandle,function(z){z.preventDefault();n.confirmCall.apply(s,[z,this,v]);return false});s.on("click.iui-layer",function(z){if(!n.shadow){return false}if(r.find(".layer-loading").length){return false}v.hideLayer();n.cancelCall.apply(s,[z,this,v]);return false});s.on("click.iui-layer",".layer-content",function(z){z.stopPropagation()});s.on("click.iui-layer",n.close,function(z){v.hideLayer();n.cancelCall.apply(s,[z,this,v]);return false});return v}});f.fn.IUI({returnTop:function(o){var q={target:".returnTop-btn",showTop:100,bottom:50,delay:300};var p=f(this);var r=f(h);var n=f.extend({},q,o);var l=p.find(n.target);var m=function(t,s){if(s>n.showTop&&t.hasClass("hide")){t.removeClass("hide")}if(s<n.showTop&&!t.hasClass("hide")){t.addClass("hide")}return false};m(l,r.scrollTop());p.css({bottom:n.bottom});r.on("scroll",function(s){m(l,f(h).scrollTop())});p.on("click",n.target,function(s){f("body,html").stop().animate({scrollTop:0},n.delay);return false})}});f.fn.IUI({tab:function(l){return this.each(function(){var o={item:".tab-item",content:".tab-content",current:"active",handle:"click",afterShow:function(){},beforeShow:function(){}};var q=f(this);var m=f.extend({},o,l);var p=q.find(m.item);var t=q.find(m.content);var n=null;var r=0;var s=p.length;if(!p.length){return}u(p.eq(0));q.on(m.handle,m.item,function(v){v.preventDefault();var w=f(this);m.beforeShow.apply(w,[v,m]);u(w);m.afterShow.apply(w,[v,m])});function u(w,v){_items=q.find(m.item);_contents=q.find(m.content);r=_items.index(w);_items.removeClass(m.current);_contents.removeClass(m.current);_items.eq(r).addClass(m.current);_contents.eq(r).addClass(m.current)}})}});f.fn.IUI({ajaxForm:function(l){return this.each(function(){var p={url:f(this).attr("action"),method:f(this).attr("method")||"POST",type:f(this).attr("data-type")||"json",before:function(){},success:function(){},error:function(){},pending:function(){}};var o=f(this);var n=o.find("input");var m=f.extend({},p,l);o.data("deferred",m);o.on("submit",function(q){q.preventDefault();if(o.hasClass("disabled")){m.pending.call(o,m);return false}var r=m.before.call(o,q,m);if(r===false){return false}o.addClass("disabled").prop("disabled",true);f.ajax({url:m.url,type:m.method,data:o.serialize()}).then(function(s){o.removeClass("disabled").prop("disabled",false);m.success.call(o,s,m)},function(s){o.removeClass("disabled").prop("disabled",false);m.error.call(o,s,m)})})})}});f.fn.IUI({validate:function(n){var m={isNonEmpty:function(s){var r=this.self;if(r[0].value.length===0){return false}},minLength:function(r){if(this.self[0].value.length<r.minLength){return false}},maxLength:function(r){if(this.self[0].value.length<r.maxLength){return errorMsg}},isMobile:function(r){if(!/(^1[3|5|8][0-9]{9}$)/.test(this.self[0].value)){return false}},isEmail:function(r){if(!/(^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$)/.test(this.self[0].value)){return false}},between:function(v){var s=this.self;var u=this.self[0].value.length;var t=v.range[0];var r=v.range[1];if(u<t||u>r){return false}},onlyEn:function(r){if(!/^[A-Za-z]+$/.test(this.self[0].value)){return false}},onlyZh:function(r){if(!/^[\u4e00-\u9fa5]+$/.test(this.self[0].value)){return false}},notInt:function(r){if(/^[0-9]*$/.test(this.self[0].value)){return false}},onlyNum:function(r){if(!/^[0-9]+([.][0-9]+){0,1}$/.test(value)){return false}},onlyInt:function(r){if(!/^[0-9]*$/.test(value)){return false}},isChecked:function(s){var r=void (0);this.self.each(function(t,u){r=u.checked;return r?false:true});return r?void (0):false},isNickname:function(r){if(!/^[A-Za-z0-9_\-\u4e00-\u9fa5]{2,20}$/i.test(this.self[0].value)){return false}}};var p={ajaxValidate:false,globalMessage:false,errorClass:".validate-error",infoClass:".validate-info",successClass:".validate-success",collections:null,strategy:m};var l=this;function q(r){this.container="body";this.options=f.extend(true,{},p,r);this.$selector=l;this.cache={};this.init()}q.prototype.init=function(){var r=this;var t=r.options.collections;var u=["info","success","error"];for(var s=0;s<t.length;s++){r.add(t[s])}r.behavior();f.each(r.cache,function(x,v){var y=/validate-context-(info|success|error)/.exec(v.context[0].className);var w;if(y){w=y[1];v.self.data("validateStatus",f.inArray(w,u))}})};q.prototype.add=function(t){var r=this.$selector.find("[data-required="+t.required+"]");var s=r.parents(t.context);f.extend(true,this.cache,(function(){var u={};var v=u[t.required]={};v.matches={};v.self=r;v.context=s;v.infoMsg=t.infoMsg||"";f.extend(true,v.matches,t.matches);return u}()))};q.prototype.behavior=function(){var r=this;var s=o(this.options.collections);this.$selector.on("focus",s,function(v){var w=f(this);var t=w.data("required");var u=r.cache[t];if(r.options.infoClass){r.message(0,u)}w.trigger("validate.focus",u)});this.$selector.on("blur",s,function(t){r.verify.call(this,r,"blur")});this.$selector.on("change","input[type=radio][data-required],input[type=checkbox][data-required]",function(t){r.verify.call(this,r,"change")})};q.prototype.verify=function(w,s){var v=f(this);var t=w.cache[v.data("required")];var u=t.matches;var r=false;f.each(u,function(y,z){var x=w.options.strategy[y].call(t,z);r=x===void (0)?1:2;v.data("validateStatus",x);w.message(r,t,y);return r===2?false:true});v.trigger("validate."+s,t);return r};q.prototype.message=function(u,v,t){var w,u,y,x,s,r;y=["info","success","error"];r=this.options.globalMessage?f(this.options.globalMessage):v.context;if(u===0){w=this.options.infoClass;x=v.infoMsg}else{if(u===1){w=this.options.successClass;x=""}else{if(u===2){w=this.options.errorClass;x=v.matches[t].errMsg}else{}}}w=w.replace(/\./g," ").slice(1);r.removeClass("validate-context-info validate-context-success validate-context-error").addClass("validate-context-"+y[u]).find(".validate-message").remove();s=f('<div class="validate-message '+w+'" >'+x+"</div>");r.append(s)};q.prototype.batch=function(t){var s=this;var r=[];f.each(this.cache,function(w,x){var v=x.self.data("validateStatus");var u=v===void (0)?s.verify.call(x.self,s,"batch"):v;if(t&&u===2){r.push(u);return false}r.push(u)});return f.inArray(2,r)===-1?true:false};function o(s){var t="";for(var r=0;r<s.length;r++){if(/checkbox|radio/.test(s[r].type)){continue}t+="[data-required="+s[r].required+"],"}return t.slice(0,t.length-1)}return new q(n)}});(function(m){var n={overLimitCount:function(){},existToken:function(){}};var l={top:38,right:39,bottom:40,left:37,enter:13,back:9};var p={parentStr:".tokenize",spanTemplate:['<span class="token-item">','<span>{text}</span><span data-value="{value}" class="token-close">x</span>',"</span>"].join(""),optionTemplate:'<option selected="selected" value="{value}">{value}</option>',liTemplate:'<li class="hidden" data-value="{value}">{value}</li>',inputTemplate:'<div class="token"> <span> <input type="text"> </span> </div>'};var o=m.fn.tokenize=function(q){m.extend(n,q);this.each(function(r,s){var u=m(this);var t=u.attr("data-limitCount")*1;if(typeof t!=="number"||isNaN(t)){t=Infinity}u.data({showAll:u.attr("data-showAll")==="false"?false:true,create:u.attr("data-create")==="false"?false:true,limitCount:t});u.append(p.inputTemplate);o.renderSelect(u);o.setEvent(u);u.find("li[uled]").addClass("current").trigger("click")})};o.renderSelect=function(q){var r=q.find("select").prop("outerHTML");r=(r+"").replace(/select/g,"ul").replace(/option/g,'li class="hide"').replace(/value/g,"data-value");q.append(r)};o.createToken=function(u,r){var s=m(this).parents(p.parentStr).find("input").val("");var q=s.parent();var t=p.spanTemplate.replace("{text}",u).replace("{value}",r);m(t).insertBefore(q)};o.setEvent=function(q){q.on("click",".token-close",function(s){s.stopPropagation();var v=m(this);var u=v.parents(p.parentStr);var t=v.attr("data-value");var r=o.hideToken(u);u.find('option[value="'+t+'"]').removeAttr("selected");r.filter('li[data-value="'+t+'"]').removeClass("hidden");v.parent(".token-item").remove()});q.on("click",".token",function(r){r.stopPropagation();var s=m(this);s.find("input").focus();o.searchToken.call(s.find("input")[0],r)});q.on("click","li",function(r){o.setToken.call(this)});q.on("keyup","input",function(t){var r=t.keyCode;var s=l;(r!==s.enter&&r!==s.back&&r!==s.bottom&&r!==s.top)&&o.searchToken.call(this,t)});q.on("keyup","ul,input",function(t){var r=t.keyCode;var s=l;(r===s.enter||r===s.back)&&o.setToken.call(this)});q.on("keyup",function(t){var r=t.keyCode;var s=l;(r===s.bottom||r===s.top)&&o.turnToken.call(this,r)});q.on("mouseenter","li",function(r){m(this).siblings().removeClass("current").end().addClass("current")})};o.searchToken=function(u){var v=m(this).parents(p.parentStr);var s=v.find("ul").removeClass("hide").find("li").removeClass("current").not(".hidden");var r=v.data("showAll");var q=m.trim(this.value);var t=0;s.each(function(x,z){var y=m(z);var w=y.text();var A=t!==0?"":"current";if((r||q!=="")&&w.indexOf(q)>-1){++t;y.removeClass("hide").addClass(A)}else{y.addClass("hide")}})};o.setToken=function(){var u=m(this).parents(p.parentStr);var q=u.find("li");var r=q.filter(".current");var w;var s;var v=u.find(".token input");var t=m.trim(v.val());if(!o.testCount.call(this)){n.overLimitCount(u);return}if(!o.testExist.call(this)){n.existToken(u);return}if(r.length){r.removeClass("current").addClass("hidden");o.createToken.call(this,r.text(),r.attr("data-value"));s=q.index(r);u.find("option").eq(s).attr("selected","selected")}else{if(u.data("create")&&t){u.find("ul").append(p.liTemplate.replace(/\{value\}/g,t));o.createToken.call(this,t,t);u.find("select").append(p.optionTemplate.replace(/\{value\}/g,t))}}o.hideToken(u)};o.turnToken=function(r){var q=m(this).find("li");var t=q.filter(":visible");var s=t.filter(".current");var u=t.index(s);var v=t.length;if(v){u=r===40?(u+1)%v:(u!==-1?u-1:u)%v;s.removeClass("current");t.eq(u).addClass("current")}};o.hideToken=function(q){m(j).click(function(r){o.hideToken(m(p.parentStr))});return function(r){return r.find("ul").addClass("hide").find("li").addClass("hide")}}();o.testCount=function(){var s=m(this).parents(p.parentStr);var r=s.data("limitCount");var q=s.find(".token-item").length;if(r!==Infinity){if(q>=r){return false}}return true};o.testExist=function(){var s=m(this).parents(p.parentStr);var t=m.trim(s.find(".token input").val());var r=s.find(".token-item");var q=true;r.each(function(v,w){var u=m(w).find("span").eq(0);if(u.text()===t){q=false;return}});return q};m.fn.IUI({tokenize:o})})(jQuery);f.fn.IUI({tooltip:function(n){var p={target:"[data-tooltip]",animateClass:"fadeIn",event:"hover",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-body"></div></div>'};var m=f.extend(p,n);var o=m.event==="hover"?"mouseenter":"click";var l=m.event==="hover"?"mouseleave":"click";return this.each(function(r,s){var t=m.target;var q=m.animateClass;f(s).on(o,t,function(){f(".tooltip").remove();var D=f(this);var w=this;var I=w.getBoundingClientRect();var F=I.left;var A=I.top;var B=w.offsetWidth;var v=w.offsetHeight;var G=D.attr("data-direction")||"top",u=D.attr("data-distance")*1||5,H=D.attr("data-title");var z=D.after(f(m.template)).next(".tooltip").addClass(G+" "+q);z.find(".tooltip-body").text(H);var C=z[0].offsetWidth;var y=z[0].offsetHeight;var x,E;if(G=="top"){x=F+(B-C)/2;E=A-y-u}else{if(G=="right"){x=F+B+u;E=A+(v-y)/2}else{if(G=="bottom"){x=F+(B-C)/2;E=A+v+u}else{if(G=="left"){x=F-C-u;E=A+(v-y)/2}}}}z.css({top:E,left:x});return false});if(m.event==="hover"){f(s).on(l,t,function(){f(this).next(".tooltip").remove()})}else{f(j).on(l,function(u){f(".tooltip").remove()})}})}});f.fn.IUI({emailSuffix:function(l){return this.each(function(){var p={container:"body",style:"global",item:"email-item",current:"checked",emails:["163.com","126.com","qq.com","gmail.com","sina.com","139.com","189.com","sohu.com"],delay:300,offsetLeft:f(this).offset().left,offsetTop:f(this).offset().top,offsetWidth:f(this).outerWidth(),offsetHeight:f(this).outerHeight(),checkedCall:function(){}};var u=f(this);var n=f.extend({},p,l);var r=f('<ul class="email-list hide"></ul>');var q=f(n.container);var o=null;var s=function(w,y){var C="";var B=y.value||null;var v=B?B.split("@")[0]:false;var x=B?B.split("@")[1]:false;for(var A=0,z;z<w.length;A++){if((v&&!x)||x&&z.indexOf(x)!==-1){C+='<li class="'+n.item+'" data-value="'+v+"@"+z+'">'+v+"@"+z+"</li>"}}return C};var t=function(C,B,A){var y=[38,40];if(f.inArray(C,y)===-1||B.hasClass("hide")){return false}var z=f.inArray(C,y)>=1?true:false;var w=B;var v=w.find("li").length;var x=w.find("li.checked");w.find("li").removeClass("checked");if(z){if(x.length&&x.index()!==v-1){x.next().addClass("checked")}else{w.find("li").eq(0).addClass("checked")}}else{if(x.index()>0){x.prev().addClass("checked")}else{w.find("li").eq(v-1).addClass("checked")}}A.val(f.trim(w.find("li.checked").text()));n.checkedCall.apply(u,[event,n])};var m=function(){var w=n.offsetLeft;var x=n.offsetTop;var v=n.offsetWidth;r.css({left:w,top:x+n.offsetHeight,width:v})};m();if(n.style==="global"){q.append(r);f(h).on("resize.emailSuffix",m)}else{u.parent().append(r)}u.on("keyup.emailSuffix",function(v){var x=this.value;if(x.charAt(0)!=="@"&&x.split("@").length===2&&f.inArray(v.keyCode,[40,38,13])===-1){var w=s(n.emails,this);r.html(w).removeClass("hide").find("li").eq(0).addClass("checked")}else{if(f.inArray(v.keyCode,[40,38,13])===-1){r.html("").addClass("hide")}}});u.on("keydown.emailSuffix",function(w){var v=r.find("li.checked");t(w.keyCode,r,u);if(w.keyCode===13){w.preventDefault();if(v.length){u.val(f.trim(v.text()))}r.addClass("hide")}});u.on("blur.emailSuffix",function(v){o=setTimeout(function(){r.addClass("hide")},n.delay)});r.on("click",n.item,function(v){v.preventDefault();clearTimeout(o);u.val(f(this).attr("data-value")).focus();r.addClass("hide");n.checkedCall.apply(u,[v,n]);return false})})}});f.fn.IUI({placeholder:function(l){return this.each(function(){var n=common.isPlaceholder();if(n){return false}var p={target:".form-control",cloneClass:"clone-password"};var o=f(this);var q=f(h);var m=f.extend({},p,l);o.find(m.target).each(function(s,u){var r=f(u).attr("placeholder");var t=f(u);if(u.type==="password"){var v=f('<input class="'+m.target.slice(1)+'" type="text">');t.css({display:"none"});v.addClass(m.cloneClass).val(r);t.parent().append(v)}else{u.value=r}});o.find(m.target).on({focus:function(r){if(f(this).hasClass("clone-password")){f(this).css({display:"none"});f(this).parent().find("input[type=password]").css({display:"block"}).focus();return false}if(this.value===f(this).attr("placeholder")){this.value=""}},blur:function(r){if(f(this).attr("type")==="password"&&!this.value){f(this).css({display:"none"});f(this).parent().find(".clone-password").css({display:"block"});return false}if(!this.value){this.value=f(this).attr("placeholder")}}})})}});f.fn.IUI({fadeSlide:function(l){return this.each(function(){var s=f(this),p=f.extend({interval:5000},l),r=null,q=0,m=s.find("ul");if(m.find("li").length<=1){return false}s.append(o(m.find("li").length,"●"));m.find("li").eq(0).addClass("current");s.on({mouseenter:function(t){s.find(".ficon").removeClass("none")},mouseleave:function(t){s.find(".ficon").addClass("none")}});s.find(".next").on("click",function(u){u.preventDefault();var t=s.find("ol li");if(!s.data("animate")){s.data("animate",1);if(q<t.length-1){q++}else{q=0}t.removeClass("current");t.eq(q).addClass("current");m.find("li").fadeOut(500).eq(q).fadeIn(500,function(){s.data("animate",0)});m.find("li").eq(q).addClass("current").siblings(".current").removeClass("current")}});s.find(".prev").on("click",function(u){u.preventDefault();var t=s.find("ol li");if(!s.data("animate")){s.data("animate",1);if(q>0){q--}else{q=t.length-1}t.removeClass("current");t.eq(q).addClass("current");m.find("li").fadeOut(500).eq(q).fadeIn(500,function(){s.data("animate",0)});m.find("li").eq(q).addClass("current").siblings(".current").removeClass("current")}});s.on({mouseenter:function(t){clearTimeout(r)},mouseleave:function(t){r=setTimeout(n,p.interval)}},".prev,.next");s.find("ol").on({mouseenter:function(t){clearTimeout(r);q=f(this).index();if(f(this).hasClass("current")){return false}f(this).addClass("current").siblings(".current").removeClass("current");m.find("li").fadeOut(500).eq(q).fadeIn(500);m.find("li").eq(q).addClass("current").siblings(".current").removeClass("current")},mouseleave:function(t){r=setTimeout(n,p.interval)}},"li");r=setTimeout(n,p.interval);function n(){clearTimeout(r);var t=s.find("ol li");if(q<t.length-1){q++}else{q=0}t.removeClass("current");t.eq(q).addClass("current");m.find("li").fadeOut(500).eq(q).fadeIn(500);m.find("li").eq(q).addClass("current").siblings(".current").removeClass("current");r=setTimeout(n,p.interval)}function o(t,y){var v,u=t,x="",w=y||"&nbsp;";x+="<ol>";for(v=0;v<u;v++){if(v===0){x+='<li class="current">'+w+"</li>"}else{x+="<li>"+w+"</li>"}}x+="</ol>";return x}})}});f.fn.IUI({typeCount:function(l){return this.each(function(){f(this).on("keyup","input[type=text],textarea",function(p){p.preventDefault();var q=f(this);var m=q.parent().find("span.count");var n=parseInt(m.text().split("/")[1]);var o=this.value.length;if(o>n){m.addClass("error")}else{m.removeClass("error")}m.html(o+"/"+n)});f(this).find("input,textarea").trigger("keyup")})}});f.fn.IUI({hideNavbar:function(A){var v=this;var w=f(".navbar");var y=w.outerHeight()/2;var r=this.hasClass("hide-navbar-on-scroll");var n,q,z,o,u,p,m,x,s;if(!r&&!w.length){return false}n=q=Math.abs(v.scrollTop());s=common.throttle(t,100);v.on("scroll",s);function t(B){q=v.scrollTop();z=this.scrollHeight;o=this.offsetHeight;m=w.hasClass("navbar-hidden");x=n<=q;n=q;if(q<y||n>q){l(false);return false}l(x);return false}function l(C){var B=C;if(B){if(w.hasClass("navbar-hidden")){return false}w.addClass("navbar-hidden")}else{if(!w.hasClass("navbar-hidden")){return false}w.removeClass("navbar-hidden")}}}});f.fn.IUI({panel:function(v){var q=this;var p=f("body");var u=f('<div class="panel-overlay hide"></div>');var t=q.data("target")?f(q.data("target")):f(".panel").eq(0);var r,l;var o={delay:300};var n=f.extend({},o,v);if(q.find(".panel-overlay").length){u=f(".panel-overlay")}else{q.append(u)}if(!q.hasClass("panel-viewport")){q=f(".panel-viewport")}q.on("touchstart.IUI-panel click.IUI-panel",".panel-open",function(w){w.preventDefault();m(f(this))});q.on("touchstart.IUI-panel click.IUI-panel",".panel-overlay",function(w){w.preventDefault();s()});q.on(b,function(w){w.preventDefault();if(!q.hasClass("panel-move")){t.addClass("hide")}});function m(w){var x=w;r="panel-"+x.attr("data-direction");l=f("."+r);u.removeClass("hide");q.addClass(r+" panel-move");t.removeClass("hide")}function s(){q.removeClass("panel-left panel-move");u.addClass("hide")}}});function i(l,q){var n=l,m,o=this;function p(r){if(r.target!==this){return}q.call(this,r);for(m=0;m<n.length;m++){o.off(n[m],p)}}if(q){for(m=0;m<n.length;m++){o.on(n[m],p)}}}f.fn.animationEnd=function(l){i.call(this,["webkitAnimationEnd","animationend"],l);return this};f.fn.transitionEnd=function(l){i.call(this,["webkitTransitionEnd","transitionend"],l);return this};f.fn.IUI({mPicker:function(B){var p={level:1,rows:4,Linkage:false,dataJson:"",height:40,idDefault:false,splitStr:" ",header:'<div class="mPicker-header"><a href="javascript:;" class="mPicker-cancel">取消</a><a href="javascript:;" class="mPicker-confirm">确定</a></div>',confirm:function(){},cancel:function(){}};var z=this;z.$container=f(this);z.$container.data("mPicker",z);z.options=f.extend({},p,B);var v=["100%","50%"];var r=f("body");r.on("touchmove",function(C){if(z.lock){C.preventDefault();C.stopPropagation()}});r.on({touchstart:function(C){C.preventDefault();z.lock=1},touchmove:function(C){C.preventDefault();clearTimeout(z.timeTouchend);z.timeTouchend=setTimeout(function(){z.lock=0},100)},touchend:function(C){C.preventDefault();z.lock=0}},".mPicker-main");z.$container.on("click",function(C){C.preventDefault();C.stopPropagation();z.render();z.$container.focus();z.$container.blur();z.$main.removeClass("hide");z.$mask.removeClass("hide");clearTimeout(r.data("mPicker-timer"));r.data("mPicker-timer",setTimeout(function(){z.$main.removeClass("down")},10));if(!z.noFirst&&z.options.idDefault){u()}var D=[];z.$list.each(function(F,G){q(z.$container,0);var E=z.$container.data("id"+(F+1))?z.$container.data("id"+(F+1)):0;D.push(E)});y(D);z.event()});z.render=function(){var D;var G=[];var E;z.$container.data("middleRowIndex",parseInt(z.options.rows/2.5));if(f(".mPicker-mask").length===0){r.append('<div class="mPicker-mask hide"></div>')}z.$mask=f(".mPicker-mask");G.push(z.options.dataJson);if(z.options.level===2){var C=n(z.options.dataJson[0]);G.push(C)}D=A(G);E='<div class="mPicker-main down" data-pickerId="'+z.pickerId+'">'+z.options.header+'<div class="mPicker-content">'+D+"</div></div>";r.append(E);z.$main=r.find(".mPicker-main");z.$content=z.$main.find(".mPicker-content");z.$list=z.$main.find(".mPicker-list");z.$list.width(v[z.options.level-1]);z.$itemOne=z.$list.eq(0);if(z.options.level===2){z.$itemTwo=z.$list.eq(1)}z.$content.append('<div class="mPicker-active-box"></div>');z.$content.find(".mPicker-active-box").height(z.options.height);var F=z.options.rows%2===0?-z.options.height+"px":-z.options.height*0.5+"px";z.$content.find(".mPicker-active-box").css({"margin-top":F});z.$content.height(z.options.height*z.options.rows)};z.event=function(){z.$main.find(".mPicker-confirm").on("touchstart.confirm click.confirm",function(F){F.preventDefault();var G="";z.noFirst=true;f.each(z.$list,function(I,K){var H=f(K).find(".active");var J=I===0?"":z.options.splitStr;if(H.length>0){I=I+1;z.$container.data("value"+I,H.data("value"));z.$container.data("id"+I,H.data("id"));G+=J+H.text()}});z.$container.val(G);z.deffered.hide(z.options.confirm)});z.$main.find(".mPicker-cancel").on("touchstart.cancel click.cancel",function(F){F.preventDefault();z.deffered.hide(z.options.cancel)});z.$mask.off("touchstart.mask click.mask").on("touchstart.mask click.mask",function(F){F.preventDefault();z.deffered.hide(z.options.cancel)});var D;var C;var E;z.$list.on("touchstart.list",function(F){s(F);var H=f(this);var G=x(H);D=F.touches[0].pageY-G;w(0,H)});z.$list.on("touchmove.list",function(I){I.preventDefault();s(I);var K;var J=f(this);var G=J.height();var L=z.options.height*z.options.rows;var F=L-G-parseInt(z.options.rows/2)*z.options.height;var H=z.$container.data("middleRowIndex")*z.options.height;C=I.touches[0].pageY;E=C-D;K=Math.round(E);K=K>H?H:K;K=K<F?F:K;q(J,K);clearTimeout(z.timeTouchend);z.timeTouchend=setTimeout(function(){m(J)},100)});z.$list.on("touchend.list",function(F){F.preventDefault();var G=f(this);m(G)})};function m(F){clearTimeout(z.timeTouchend);var D=t(F);var C=D.target.data("id");var E=z.$list.index(F);if(z.options.Linkage&&E===0){l(C)}w(200,F)}function u(){var F=z.$container.val().split(z.options.splitStr);var E=[];var D=[];var G;var C;var H=function(J,I){f.each(J,function(K,L){if(L.name==F[I]){E[I]=K;D[I]=L.value;z.$container.data("value"+(I+1),D[I]);z.$container.data("id"+(I+1),E[I]);return false}})};if(typeof(F)!=="object"||!F.length||!z.$main){return}H(z.options.dataJson,0);G=z.options.Linkage?z.options.dataJson[E[0]]:z.options.dataJson[0];if(z.options.Linkage&&z.options.level===2&&E[0]&&F.length>1){C=1}if(!z.options.Linkage&&z.options.level===2&&F.length>1){C=1}if(C){G=n(G);H(G,1)}}function t(F,G){var C;var H=Math.round((x(F)/z.options.height));var D=typeof(G)==="number"?F.find("li").index(F.find('li[data-id="'+G+'"]')):z.$container.data("middleRowIndex")-H;var E=-z.options.height*(D-z.$container.data("middleRowIndex"));q(F,E);F.find("li").eq(D).addClass("active").siblings("li").removeClass("active");C={target:F.find("li").eq(D),index:D};return C}function l(C){var D=n(z.options.dataJson[C]);if(z.options.level===2){var E=o(D);z.$itemTwo.html(E);t(z.$itemTwo,0)}}function y(C){var E=C[0]?C[0]:0;var D=C[1]?C[1]:0;if(z.options.Linkage){l(E)}t(z.$itemOne,E);if(z.options.level===2){t(z.$itemTwo,D)}}function n(D){if(!D){return[]}var C=({}).hasOwnProperty.call(D,"child")?D.child:[];return C}function o(C){var D="";f.each(C,function(E,F){D+='<li data-value="'+F.value+'" data-id="'+E+'">'+F.name+"</li>"});return D}function A(F){var E="";for(var D=0;D<F.length;D++){var C=o(F[D]);E+='<ul class="mPicker-list">'+C+"</ul>"}return E}function w(D,C){C.css({"-webkit-transition-duration":D+"ms","transition-duration":D+"ms"})}function s(C){if(!C.touches){C.touches=C.originalEvent.touches}}function q(C,D){C.css({"-webkit-transform":"translateY("+D+"px)",transform:"translateY("+D+"px)"})}function x(E){var D=/\.*translateY\((.*)px\)/i;var C;if(E[0].style.WebkitTransform){C=parseInt(D.exec(E[0].style.WebkitTransform)[1])}else{if(E[0].style.transform){C=parseInt(D.exec(E[0].style.transforms)[1])}}return C}z.deffered={container:z.$container,show:function(){z.$container.trigger("touchstart")},hide:function(C){z.$mask.addClass("hide");z.$main.addClass("down").transitionEnd(function(){z.$main.remove();if(typeof(C)==="function"){C.call(this)}})},updateData:function(D){if(!D.length){return}z.noFirst=false;for(var C=0;C<z.options.level;C++){z.$container.data("id"+(C+1),0);z.$container.data("value"+(C+1),"")}z.options.dataJson=D;z.$main.remove()}};return z.deffered}})}(jQuery,window,document,undefined));